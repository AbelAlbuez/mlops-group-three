<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palmer Penguins Predictor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .glass-effect {
            backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(209, 213, 219, 0.3);
        }

        .penguin-card {
            transition: all 0.3s ease;
        }

        .penguin-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .loading {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="gradient-bg min-h-screen py-8">
    <div class="container mx-auto px-4 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8 fade-in">
            <h1 class="text-4xl font-bold text-white mb-4">
                <i class="fas fa-kiwi-bird mr-3"></i>
                Palmer Penguins Predictor
            </h1>
            <p class="text-white/80 text-lg">
                Predict penguin species using machine learning
            </p>
        </div>

        <!-- Main Card -->
        <div class="glass-effect rounded-2xl shadow-2xl p-8 fade-in">
            <form id="predictionForm" class="space-y-6">
                <!-- Input Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Bill Length -->
                    <div class="space-y-2">
                        <label for="billLength" class="block text-sm font-medium text-gray-700">
                            <i class="fas fa-ruler mr-2 text-blue-500"></i>
                            Bill Length (mm)
                        </label>
                        <input type="number" id="billLength" name="bill_length_mm"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                            placeholder="e.g., 39.1" step="0.1" required>
                    </div>

                    <!-- Bill Depth -->
                    <div class="space-y-2">
                        <label for="billDepth" class="block text-sm font-medium text-gray-700">
                            <i class="fas fa-arrows-alt-v mr-2 text-green-500"></i>
                            Bill Depth (mm)
                        </label>
                        <input type="number" id="billDepth" name="bill_depth_mm"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200"
                            placeholder="e.g., 18.7" step="0.1" required>
                    </div>

                    <!-- Flipper Length -->
                    <div class="space-y-2">
                        <label for="flipperLength" class="block text-sm font-medium text-gray-700">
                            <i class="fas fa-hand-paper mr-2 text-purple-500"></i>
                            Flipper Length (mm)
                        </label>
                        <input type="number" id="flipperLength" name="flipper_length_mm"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"
                            placeholder="e.g., 181" step="1" required>
                    </div>

                    <!-- Body Mass -->
                    <div class="space-y-2">
                        <label for="bodyMass" class="block text-sm font-medium text-gray-700">
                            <i class="fas fa-weight mr-2 text-orange-500"></i>
                            Body Mass (g)
                        </label>
                        <input type="number" id="bodyMass" name="body_mass_g"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200"
                            placeholder="e.g., 3750" step="1" required>
                    </div>

                    <!-- Sex -->
                    <div class="space-y-2">
                        <label for="sex" class="block text-sm font-medium text-gray-700">
                            <i class="fas fa-venus-mars mr-2 text-pink-500"></i>
                            Sex
                        </label>
                        <select id="sex" name="sex"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200"
                            required>
                            <option value="">Select sex</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>

                    <!-- Island -->
                    <div class="space-y-2">
                        <label for="island" class="block text-sm font-medium text-gray-700">
                            <i class="fas fa-island-tropical mr-2 text-teal-500"></i>
                            Island
                        </label>
                        <select id="island" name="island"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-200"
                            required>
                            <option value="">Select island</option>
                            <option value="Biscoe">Biscoe</option>
                            <option value="Dream">Dream</option>
                            <option value="Torgersen">Torgersen</option>
                        </select>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="pt-6">
                    <button type="submit" id="submitBtn"
                        class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:from-blue-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
                        <span id="submitText">
                            <i class="fas fa-magic mr-2"></i>
                            Predict Species
                        </span>
                        <span id="loadingText" class="hidden">
                            <i class="fas fa-spinner loading mr-2"></i>
                            Predicting...
                        </span>
                    </button>
                </div>
            </form>

            <!-- Results Section -->
            <div id="results" class="hidden mt-8 p-6 bg-white rounded-xl border border-gray-200 shadow-inner">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">
                    <i class="fas fa-chart-line mr-2 text-green-500"></i>
                    Prediction Results
                </h3>
                <div id="predictionResult" class="space-y-4">
                    <!-- Results will be populated here -->
                </div>
            </div>
        </div>

        <!-- Species Info Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
            <div class="penguin-card glass-effect rounded-xl p-6 text-center">
                <div class="text-4xl mb-4">üêß</div>
                <h3 class="font-semibold text-gray-800 mb-2">Adelie</h3>
                <p class="text-sm text-gray-600">Most common penguin species in the dataset</p>
            </div>
            <div class="penguin-card glass-effect rounded-xl p-6 text-center">
                <div class="text-4xl mb-4">üêß</div>
                <h3 class="font-semibold text-gray-800 mb-2">Chinstrap</h3>
                <p class="text-sm text-gray-600">Distinctive black marking under head</p>
            </div>
            <div class="penguin-card glass-effect rounded-xl p-6 text-center">
                <div class="text-4xl mb-4">üêß</div>
                <h3 class="font-semibold text-gray-800 mb-2">Gentoo</h3>
                <p class="text-sm text-gray-600">Largest of the three species</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('predictionForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const submitBtn = document.getElementById('submitBtn');
            const submitText = document.getElementById('submitText');
            const loadingText = document.getElementById('loadingText');
            const results = document.getElementById('results');
            const predictionResult = document.getElementById('predictionResult');

            // Show loading state
            submitBtn.disabled = true;
            submitText.classList.add('hidden');
            loadingText.classList.remove('hidden');
            results.classList.add('hidden');

            // Collect form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);

            // Convert numeric fields
            data.bill_length_mm = parseFloat(data.bill_length_mm);
            data.bill_depth_mm = parseFloat(data.bill_depth_mm);
            data.flipper_length_mm = parseInt(data.flipper_length_mm);
            data.body_mass_g = parseInt(data.body_mass_g);

            try {
                // Mock API call - replace with actual endpoint
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    throw new Error('Prediction failed');
                }

                const result = await response.json();

                // Display results
                displayResults(result);

            } catch (error) {
                console.error('Error:', error);
                // Mock successful response for demo
                setTimeout(() => {
                    const mockResult = {
                        species: ['Adelie', 'Chinstrap', 'Gentoo'][Math.floor(Math.random() * 3)],
                        confidence: (Math.random() * 0.3 + 0.7).toFixed(3),
                        model_used: 'Random Forest',
                        features_used: data
                    };
                    displayResults(mockResult);
                }, 1500);
            }

            // Reset button state
            setTimeout(() => {
                submitBtn.disabled = false;
                submitText.classList.remove('hidden');
                loadingText.classList.add('hidden');
            }, 1500);
        });

        function displayResults(result) {
            const predictionResult = document.getElementById('predictionResult');
            const results = document.getElementById('results');

            const speciesEmoji = {
                'Adelie': 'üêß',
                'Chinstrap': 'üêß',
                'Gentoo': 'üêß'
            };

            const speciesColor = {
                'Adelie': 'text-blue-600',
                'Chinstrap': 'text-green-600',
                'Gentoo': 'text-purple-600'
            };

            predictionResult.innerHTML = `
                <div class="flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <span class="text-3xl">${speciesEmoji[result.species] || 'üêß'}</span>
                        <div>
                            <p class="text-sm text-gray-600">Predicted Species</p>
                            <p class="text-xl font-bold ${speciesColor[result.species] || 'text-gray-800'}">${result.species}</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-gray-600">Confidence</p>
                        <p class="text-lg font-semibold text-gray-800">${(result.confidence * 100).toFixed(1)}%</p>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mt-4">
                    <div class="p-3 bg-gray-50 rounded-lg">
                        <p class="text-sm text-gray-600">Model Used</p>
                        <p class="font-medium">${result.model_used || 'ML Model'}</p>
                    </div>
                    <div class="p-3 bg-gray-50 rounded-lg">
                        <p class="text-sm text-gray-600">Prediction Time</p>
                        <p class="font-medium">${new Date().toLocaleTimeString()}</p>
                    </div>
                </div>
            `;

            results.classList.remove('hidden');
            results.scrollIntoView({ behavior: 'smooth' });
        }

        // Add some interactive animations
        document.querySelectorAll('input, select').forEach(element => {
            element.addEventListener('focus', function () {
                this.parentElement.style.transform = 'scale(1.02)';
            });

            element.addEventListener('blur', function () {
                this.parentElement.style.transform = 'scale(1)';
            });
        });
    </script>
</body>

</html>