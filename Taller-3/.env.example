# ===============================================
# ARCHIVO DE VARIABLES DE ENTORNO - TALLER 3
# ===============================================
# Copiar este archivo a .env y ajustar los valores
# cp .env.example .env
# ===============================================

# -------------------------------------
# AIRFLOW CONFIGURATION
# -------------------------------------

# Usuario de Airflow (en Linux usar: echo -e "AIRFLOW_UID=$(id -u)" )
AIRFLOW_UID=50000

# Fernet Key para encriptación de conexiones y variables en Airflow
# Generar con: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FERNET_KEY=8hSZrOuU8yqV2Q5nGYKj2wCpkNQkRFxK9M-UYtJzYWE=

# Usuario administrador de Airflow
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=admin123
AIRFLOW_ADMIN_EMAIL=admin@example.com

# Dependencias adicionales de Python para Airflow
_PIP_ADDITIONAL_REQUIREMENTS=pandas numpy scikit-learn joblib pymysql sqlalchemy palmerpenguins tensorflow

# -------------------------------------
# POSTGRESQL (Metadatos de Airflow)
# -------------------------------------

# Credenciales de PostgreSQL para Airflow
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow
POSTGRES_DB=airflow

# -------------------------------------
# MYSQL (Base de datos de pingüinos)
# -------------------------------------

# Credenciales de MySQL para datos
MYSQL_ROOT_PASSWORD=root_password_123
MYSQL_USER=penguins_user
MYSQL_PASSWORD=penguins_pass_456
MYSQL_DATABASE=penguins_db

# -------------------------------------
# API CONFIGURATION
# -------------------------------------

# Puerto de la API (por defecto 8000)
API_PORT=8000

# Rutas a los modelos (usado por la API)
MODEL_PATH=/app/models
MODEL_TF_PATH=/app/models_tf

# -------------------------------------
# REDIS CONFIGURATION
# -------------------------------------

# Redis no requiere configuración especial en este caso
# Se usa la configuración por defecto

# -------------------------------------
# NOTAS IMPORTANTES
# -------------------------------------
# 1. Cambiar TODAS las contraseñas en producción
# 2. El FERNET_KEY debe ser único para cada instalación
# 3. En Linux, establecer AIRFLOW_UID con el ID del usuario actual
# 4. Asegurar que los puertos no estén en uso:
#    - 8080: Airflow Web UI
#    - 8000: API FastAPI
#    - 5432: PostgreSQL
#    - 3306: MySQL
#    - 6379: Redis (interno)
#    - 5555: Flower (monitoreo Celery)

# -------------------------------------
# EJEMPLO DE CONEXIÓN DESDE AIRFLOW
# -------------------------------------
# Para conectar Airflow con MySQL desde un DAG:
# 
# from airflow.hooks.mysql_hook import MySqlHook
# mysql_hook = MySqlHook(mysql_conn_id='mysql_default')
# 
# O usando variables de entorno directamente:
# 
# import os
# mysql_config = {
#     'host': os.getenv('MYSQL_HOST', 'mysql'),
#     'port': int(os.getenv('MYSQL_PORT', 3306)),
#     'user': os.getenv('MYSQL_USER'),
#     'password': os.getenv('MYSQL_PASSWORD'),
#     'database': os.getenv('MYSQL_DATABASE')
# }
# -------------------------------------